[[
title: ntpdate и обновление времени
timestamp: 2015-01-30 12:49
author: sbog
tags: [ntp, ntpd, ntpdate]
blurb: auto
]]

Многие знают, что при работающем ntpd нельзя просто так синкнуть время
через ntpdate, потому что он попытается использовать тот же самый порт,
что и ntpd - 123/UDP. Приходится гасить ntpd, синкать время через
ntpdate, стартовать ntpd. Чтобы этого не делать, используйте опцию "-u"
в ntpdate - тогда будет использоваться непривилегированный исходящий
порт и не нужно будет стопать ntpd для синка.

Чтобы два раза не ходить, напомню, что не нужно использовать опцию "-d",
когда вы хотите реально синкнуть время через ntpdate, потому что в debug
mode вам просто покажутся изменения, которые могли бы произойти, но они
не применятся к работающей системе.

Чтобы не ходить три раза - не используйте ntpdate, она давным-давно
deprecated. Есть прекрасный sntp, который умеет все, что умеет ntpdate и
даже немного больше.
